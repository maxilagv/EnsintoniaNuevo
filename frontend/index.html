<!doctype html>
<html lang="es">
<head>
  <link rel="icon" type="image/png" href="https://i.postimg.cc/nLpfY67w/Gemini-Generated-Image-3nyj8v3nyj8v3nyj.png">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ensintonia | Importadora directa de electr&oacute;nica y hogar en Quilmes</title>
  <meta name="description" content="Ensintonia: importadora directa de electrónica y hogar en Quilmes, Buenos Aires. Ofrecemos stock real, envíos a todo el país y soporte por WhatsApp para mayoristas y minoristas." />
  <meta name="keywords" content="importadora, electrónica, hogar, Quilmes, Buenos Aires, mayorista, minorista, audio, video, computación, seguridad" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="language" content="es-AR" />
  <link rel="canonical" href="/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Ensintonia | Importadora directa de electr&oacute;nica y hogar" />
  <meta property="og:description" content="Importadora directa de electr&oacute;nica y hogar en Quilmes Oeste, Buenos Aires. Stock real, env&iacute;os a todo el pa&iacute;s y soporte por WhatsApp." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="es_AR" />
  <meta property="og:site_name" content="Ensintonia" />
  <meta property="og:image" content="https://i.postimg.cc/nLpfY67w/Gemini-Generated-Image-3nyj8v3nyj8v3nyj.png" />

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Ensintonia | Importadora directa de electr&oacute;nica y hogar" />
  <meta name="twitter:description" content="Importadora directa de electr&oacute;nica y hogar en Quilmes Oeste, Buenos Aires. Stock real, env&iacute;os a todo el pa&iacute;s y soporte por WhatsApp." />
  <meta name="twitter:image" content="https://i.postimg.cc/nLpfY67w/Gemini-Generated-Image-3nyj8v3nyj8v3nyj.png" />

  <!-- Tailwind (CDN, rápido para prototipo) -->
  <script>
    // Asegura el objeto global antes de asignar la configuración
    window.tailwind = window.tailwind || {};
    window.tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50: '#f5f8ff',
              100: '#e6eeff',
              300: '#7da3ff',
              500: '#1e40af',
              700: '#17307a'
            }
          },
          boxShadow: {
            soft: '0 6px 20px rgba(16,24,40,.08)',
            card: '0 10px 30px rgba(16,24,40,.06)'
          },
          fontFamily: {
            inter: ['Inter', 'ui-sans-serif', 'system-ui', 'sans-serif']
          }
        }
      }
    };
  </script>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <!-- Three.js (Necesario para la animación fluida) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js" defer></script>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Orbitron:wght@600;700&display=swap" rel="stylesheet">
  <link rel="preload" href="main.css" as="style">
  <link rel="stylesheet" href="main.css">
</head>

<body class="font-inter text-[15px] lg:text-base text-ink antialiased bg-gradient-to-b from-white to-brand-50">
  <div class="loader"></div>
  <header id="main-header" class="sticky top-0 z-50 border-b border-gray-100">
    <div class="site-container flex items-center justify-between h-20 lg:h-24 py-3 lg:py-0">
      <a class="flex items-center gap-4 logo-wrap" href="#">
        <img class="logo-big" src="https://i.postimg.cc/YSDhn3jJ/Chat-GPT-Image-31-ago-2025-03-26-38-p-m.png" alt="Logo de Ensintonía" loading="lazy" decoding="async">
        <div>
          <div class="neon-text hero-title-shadow text-2xl leading-tight">Ensintonia</div>
          <div class="text-sm muted -mt-1">Importadora directa  Electronica & Hogar</div>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-6">
        <a href="#quienes-somos" class="text-sm text-ink hover:text-brand-700 transition">Quienes somos</a>
        <a href="#propuesta-valor" class="text-sm text-ink hover:text-brand-700 transition">Propuesta</a>
        <a id="catalog-link-header" href="/catalogo.html" class="text-sm text-ink hover:text-brand-700 transition">Catalogo</a>
        <a href="/contact.html" class="text-sm text-ink hover:text-brand-700 transition">Contacto</a>
        <a href="https://webensintonia.com/frontend/admin.html" class="text-sm text-ink hover:text-brand-700 transition">Panel Admin</a>
        <a href="https://wa.me/5491159914197" target="_blank" rel="noopener" class="ml-4 px-4 py-2 rounded-full bg-green-600 text-white text-sm shadow-sm hover:bg-green-700 transition btn">WhatsApp</a>
      </nav>

      <!-- mobile right controls -->
      <div class="md:hidden flex items-center gap-2">
        <button id="mobile-search-toggle" class="p-2 rounded-lg text-ink hover:bg-gray-100 btn">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z"/></svg>
        </button>
        <button id="mobile-menu-button" class="sm:hidden z-50 p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none btn" aria-expanded="false" aria-controls="mobile-nav">
          <span class="bar block w-7 h-0.5 bg-gray-900 mb-1 rounded transition-all duration-300"></span>
          <span class="bar block w-7 h-0.5 bg-gray-900 mb-1 rounded transition-all duration-300"></span>
          <span class="bar block w-7 h-0.5 bg-gray-900 rounded transition-all duration-300"></span>
        </button>
      </div>
    </div>
  </header>

  <!-- Mobile search (hidden on md+) -->
  <div id="mobile-search" class="md:hidden px-4 py-3 hidden">
    <div class="relative">
      <input id="search-input-mobile" type="search" placeholder="Buscar (Ctrl+K)" autocomplete="off"
             class="w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-brand-300" />
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section id="hero-intro" class="section py-20 relative overflow-hidden">
    <!-- Three.js Canvas Container -->
    <div id="canvas-container" class="absolute inset-0 z-0" style="pointer-events: none;"></div>

    <div class="site-container text-center lg:text-left relative z-10">
      <div class="mx-auto max-w-3xl">
        <h1 class="title text-4xl sm:text-5xl font-extrabold text-ink leading-tight mb-4 fade-up-init neon-text hero-title-shadow" id="hero-title">
          Somos <span class="brand">Ensintonia</span>
        </h1>
        <p class="subtitle text-lg muted mb-8 fade-up-init" id="hero-sub">
          Importadora directa de electr&oacute;nica y soluciones para el hogar desde Quilmes Oeste, Buenos Aires. Calidad, stock real y soporte local para que tu proyecto llegue sin sorpresas en toda la Argentina.
        </p>

        <div class="flex items-center justify-center lg:justify-start gap-4 flex-wrap fade-up-init" id="hero-ctas">
          <a href="https://wa.me/5491159914197" target="_blank" rel="noopener" class="btn btn-outline border border-gray-200 px-5 py-3 rounded-2xl text-ink hover:bg-gray-50 card-polish">
            Escribinos por WhatsApp
          </a>
        </div>

        <p class="mt-8 text-sm muted fade-up-init" id="hero-detail">
          Desde componentes electr&oacute;nicos hasta soluciones para el hogar: trabajamos con fabricantes internacionales para ofrecer productos confiables, entrega eficiente y respaldo local para negocios y casas particulares.
        </p>
      </div>
    </div>
  </section>

  <!-- QUIENES SOMOS -->
  <section id="quienes-somos" class="section py-16">
    <div class="site-container">
      <div class="flex flex-col lg:flex-row gap-12 items-center">
        <!-- Texto y Foto -->
        <div class="lg:w-1/2 relative">
          <div class="relative z-10">
            <h2 class="section-title text-3xl font-bold mb-6">Quiénes somos</h2>
            <p class="text-lg text-muted-700 mb-6 leading-relaxed">
              Somos una Pyme especializada en la venta de confort, soluciones y tranquilidad. A través de una cartera de productos cuidadosamente seleccionada, buscamos hacer la vida más fácil tanto en hogares como en empresas.
            </p>
            <p class="text-sm text-muted-700 mb-8 border-l-4 border-brand-500 pl-4 italic">
              "No solo vendemos productos, entregamos confianza y respaldo técnico en cada operación."
            </p>
          </div>
          <!-- Foto decorativa flotante -->
          <div class="mt-8 relative rounded-3xl overflow-hidden shadow-2xl border border-white/10 group scroll-fade-in">
            <img 
              src="https://i.postimg.cc/3xstCqpK/Captura-de-pantalla-1-12-2025-2243-www-instagram-com.jpg" 
              alt="Foto del local de Ensintonia en Quilmes Oeste" 
              class="w-full h-64 object-cover transform transition-transform duration-700 group-hover:scale-105"
            >
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
            <div class="absolute bottom-4 left-4">
              <span class="px-3 py-1 bg-brand-500 text-white text-xs font-bold rounded-full uppercase tracking-wider">Casa Central</span>
              <p class="text-white text-sm mt-1">Quilmes Oeste, Buenos Aires</p>
            </div>
          </div>
        </div>

        <!-- Grid de características (Glass Cards) -->
        <div class="lg:w-1/2 grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-brand-300/50 transition-colors duration-300 group">
            <div class="w-10 h-10 mb-4 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/></svg>
            </div>
            <h3 class="font-bold text-ink mb-2">Importación Directa</h3>
            <p class="text-sm text-muted-700">Líneas de audio y hogar sin intermediarios, garantizando el mejor precio del mercado.</p>
          </div>

          <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-brand-300/50 transition-colors duration-300 group">
            <div class="w-10 h-10 mb-4 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            </div>
            <h3 class="font-bold text-ink mb-2">Asesoría Real</h3>
            <p class="text-sm text-muted-700">Te ayudamos a elegir con datos técnicos precisos y expectativas claras.</p>
          </div>

          <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-brand-300/50 transition-colors duration-300 group">
            <div class="w-10 h-10 mb-4 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
            </div>
            <h3 class="font-bold text-ink mb-2">Soporte Posventa</h3>
            <p class="text-sm text-muted-700">Atención humana para resolver dudas de uso o configuración post-compra.</p>
          </div>

          <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-brand-300/50 transition-colors duration-300 group">
            <div class="w-10 h-10 mb-4 rounded-full bg-yellow-500/20 flex items-center justify-center text-yellow-400 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
            </div>
            <h3 class="font-bold text-ink mb-2">Alianzas B2B</h3>
            <p class="text-sm text-muted-700">Precios especiales por volumen y reposición programada para empresas.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROPUESTA DE VALOR -->
  <section id="propuesta-valor" class="section py-16 relative">
    <!-- Fondo sutil para separar secciones -->
    <div class="absolute inset-0 bg-white/5 skew-y-1 transform origin-bottom-right pointer-events-none"></div>
    
    <div class="site-container relative z-10">
      <div class="text-center mb-12">
        <h2 class="section-title text-3xl font-bold mb-4">Nuestra propuesta de valor</h2>
        <p class="text-muted-700 max-w-2xl mx-auto">
          Nos diferenciamos por simplificar la importación y garantizar la calidad en cada paso del proceso.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Card 1 -->
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-brand-500/30 transition-all duration-300 group text-center flex flex-col items-center scroll-fade-in">
          <div class="w-14 h-14 mb-5 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-brand-300 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(96,165,250,0.15)]">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
          </div>
          <h3 class="text-lg font-bold text-ink mb-2">Sin Intermediarios</h3>
          <p class="text-sm text-muted-700">Importamos directo de fábrica. Esto elimina costos innecesarios y te asegura el precio más competitivo.</p>
        </div>

        <!-- Card 2 -->
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-brand-500/30 transition-all duration-300 group text-center flex flex-col items-center scroll-fade-in">
          <div class="w-14 h-14 mb-5 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-brand-300 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(96,165,250,0.15)]">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <h3 class="text-lg font-bold text-ink mb-2">Calidad Verificada</h3>
          <p class="text-sm text-muted-700">No movemos cajas cerradas. Probamos y elegimos cada producto para asegurar su funcionamiento.</p>
        </div>

        <!-- Card 3 -->
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-brand-500/30 transition-all duration-300 group text-center flex flex-col items-center scroll-fade-in">
          <div class="w-14 h-14 mb-5 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-brand-300 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(96,165,250,0.15)]">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
          </div>
          <h3 class="text-lg font-bold text-ink mb-2">Stock Real</h3>
          <p class="text-sm text-muted-700">Lo que ves es lo que hay. Inventario vivo para entregas ágiles sin esperas de reposición.</p>
        </div>

        <!-- Card 4 -->
        <div class="p-6 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-brand-500/30 transition-all duration-300 group text-center flex flex-col items-center scroll-fade-in">
          <div class="w-14 h-14 mb-5 rounded-2xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 flex items-center justify-center text-brand-300 group-hover:scale-110 transition-transform shadow-[0_0_15px_rgba(96,165,250,0.15)]">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/></svg>
          </div>
          <h3 class="text-lg font-bold text-ink mb-2">Soporte Cercano</h3>
          <p class="text-sm text-muted-700">Estamos antes, durante y después de la compra. Hablás con personas, no con bots.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CATEGORÍAS -->
  <section id="categorias" class="section py-16">
    <div class="site-container">
      <h2 class="section-title text-2xl font-bold mb-6">Categorias de productos de electr&oacute;nica y hogar</h2>

      <!-- NUEVO: Selector rápido para ir directo a una categoría -->
      <div class="mb-5 flex flex-wrap items-center gap-3" id="category-jump-wrap">
        <label for="category-jump" class="text-sm font-medium">Ir directo:</label>
        <select id="category-jump"
                class="text-sm bg-white/10 border border-white/20 rounded-lg px-3 py-2
                       focus:outline-none focus:ring-2 focus:ring-brand-300 min-w-[230px]">
          <option value="">Selecciona una categoria</option>
        </select>
        <button id="category-jump-clear"
                class="text-xs px-3 py-2 rounded-lg border border-white/20 text-ink hover:bg-white/10 transition"
                type="button" hidden>Limpiar</button>
      </div>
      <!-- FIN NUEVO -->

      <!-- Reemplazado: lista dinámica -->
      <ul id="categories-list" class="flex flex-wrap gap-3"></ul>
      <p class="note text-sm text-muted-700 mt-4">El catalogo se actualiza seguido.</p>
    </div>
  </section>

  <!-- LOGÍSTICA -->
  <section id="logistica" class="section py-12 bg-white/60">
    <div class="site-container">
      <h2 class="section-title text-2xl font-bold mb-4">Logistica y cobertura</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="p-4 rounded-2xl shadow-sm value-card">
          <h4 class="font-semibold mb-2">Envios</h4>
          <p class="text-sm text-muted-700">Hacemos envios a CABA, GBA y a todo el resto del pais.</p>
        </div>
        <div class="p-4 rounded-2xl shadow-sm value-card">
          <h4 class="font-semibold mb-2">Pagos</h4>
          <p class="text-sm text-muted-700">Consultar medios de pagos con su vendedor.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- GARANTÍA (REDIMENSIONADA) -->
  <section id="garantia" class="section py-12 relative overflow-hidden">
    <!-- Fondo decorativo sutil -->
    <div class="absolute inset-0 bg-brand-500/5 pointer-events-none"></div>
    <div class="site-container relative z-10">
      <div class="flex flex-col md:flex-row items-center gap-8 bg-white/5 border border-white/10 p-8 rounded-3xl backdrop-blur-sm">
        <div class="shrink-0 p-4 rounded-full bg-brand-500/10 text-brand-300">
           <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        </div>
        <div class="text-center md:text-left">
          <h2 class="text-2xl font-bold mb-2 neon-text">Garantía de Confianza</h2>
          <p class="text-muted-700 max-w-2xl">
            Comprá tranquilo. Todos nuestros productos pasan por un control de calidad antes de salir del depósito y cuentan con <strong>garantía oficial del fabricante</strong>. Si algo no funciona como esperabas, gestionamos el cambio de forma directa y simple.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CÓMO COMPRAR (AESTHETIC STEPS) -->
  <section id="como-comprar" class="section py-16 bg-white/60">
    <div class="site-container">
      <h2 class="section-title text-2xl font-bold mb-10">Cómo comprar en 4 pasos</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Paso 1 -->
        <div class="step-card">
          <span class="step-number">01</span>
          <div class="step-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
          </div>
          <h4 class="font-bold text-lg mb-2">Elegí</h4>
          <p class="text-sm text-muted-700">Explorá nuestro catálogo online y seleccioná los productos que necesitás para tu hogar o negocio.</p>
        </div>

        <!-- Paso 2 -->
        <div class="step-card">
          <span class="step-number">02</span>
          <div class="step-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>
          </div>
          <h4 class="font-bold text-lg mb-2">Consultá</h4>
          <p class="text-sm text-muted-700">Contactanos por WhatsApp para confirmar stock en tiempo real y coordinar el método de pago.</p>
        </div>

        <!-- Paso 3 -->
        <div class="step-card">
          <span class="step-number">03</span>
          <div class="step-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg>
          </div>
          <h4 class="font-bold text-lg mb-2">Pagá</h4>
          <p class="text-sm text-muted-700">Realizá el pago de forma segura mediante transferencia, efectivo o el medio acordado.</p>
        </div>

        <!-- Paso 4 -->
        <div class="step-card">
          <span class="step-number">04</span>
          <div class="step-icon">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
          </div>
          <h4 class="font-bold text-lg mb-2">Recibí</h4>
          <p class="text-sm text-muted-700">Despachamos tu pedido o coordinamos el retiro. ¡Disfrutá de tu compra con total respaldo!</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ (MEJORADO) -->
  <section id="faq" class="section py-16">
    <div class="site-container">
      <h2 class="section-title text-2xl font-bold mb-8">Preguntas frecuentes</h2>
      <div class="grid md:grid-cols-2 gap-5">
        
        <details class="group faq-card rounded-2xl p-5 shadow-sm">
          <summary class="flex items-center justify-between gap-3 cursor-pointer text-base text-ink font-medium select-none">
            <span>¿Tienen stock real inmediato?</span>
            <span class="shrink-0 w-8 h-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-brand-300 group-open:rotate-180 transition-transform duration-300">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </span>
          </summary>
          <div class="mt-3 text-sm text-muted-700 leading-relaxed border-t border-white/5 pt-3">
            <p>Sí, manejamos stock físico. Nuestro inventario se actualiza a diario, pero siempre recomendamos confirmar disponibilidad vía WhatsApp antes de abonar, ya que los productos vuelan.</p>
          </div>
        </details>



        <details class="group faq-card rounded-2xl p-5 shadow-sm">
          <summary class="flex items-center justify-between gap-3 cursor-pointer text-base text-ink font-medium select-none">
            <span>¿Tienen precios mayoristas?</span>
            <span class="shrink-0 w-8 h-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-brand-300 group-open:rotate-180 transition-transform duration-300">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </span>
          </summary>
          <div class="mt-3 text-sm text-muted-700 leading-relaxed border-t border-white/5 pt-3">
            <p>¡Sí! Trabajamos con gremio y reventas. Comunicate con nuestro equipo comercial para acceder a la lista de precios por volumen y condiciones especiales.</p>
          </div>
        </details>

        <details class="group faq-card rounded-2xl p-5 shadow-sm">
          <summary class="flex items-center justify-between gap-3 cursor-pointer text-base text-ink font-medium select-none">
            <span>¿Realizan envíos al interior?</span>
            <span class="shrink-0 w-8 h-8 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-brand-300 group-open:rotate-180 transition-transform duration-300">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
            </span>
          </summary>
          <div class="mt-3 text-sm text-muted-700 leading-relaxed border-t border-white/5 pt-3">
            <p>Despachamos a todo el país. Trabajamos con Via Cargo, Correo Argentino y otros expresos. El costo de envío corre por cuenta del cliente y se abona en destino (salvo excepciones).</p>
          </div>
        </details>

      </div>
    </div>
  </section>

  <!-- CIERRE -->
  <section id="cierre" class="section py-12">
    <div class="site-container text-center">
      <h2 class="section-title text-2xl font-bold mb-4">Tecnologia que suma, sin complicaciones</h2>
      <p class="text-muted-700 mb-6">Ese es nuestro norte. Si buscas precio, garantia y una atencion que responde, estamos en la misma sintonia.</p>
      <a href="/catalogo.html" class="btn btn-primary bg-brand-500 hover:bg-brand-600 text-white px-6 py-3 rounded-2xl shadow-sm card-hover">Ver catalogo</a>
    </div>
  </section>
</main>
  <!-- FOOTER -->
  <footer class="bg-gradient-to-r from-[#0b132b] to-[#1c2541] text-slate-100 pt-10 pb-8 mt-8">
    <div class="site-container">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
        <div class="flex items-center gap-3">
          <img class="w-10 h-10 rounded-md" src="https://i.postimg.cc/YSDhn3jJ/Chat-GPT-Image-31-ago-2025-03-26-38-p-m.png" alt="Logo de Ensintonía en el pie de página" loading="lazy" decoding="async">
          <div>
            <div class="neon-text text-xl leading-tight">Ensinton&iacute;a</div>
            <div class="text-xs text-slate-300">Importadora directa de electr&oacute;nica y hogar</div>
          </div>
        </div>

        <nav class="flex flex-wrap items-center gap-5 text-sm">
          <a href="#quienes-somos" class="opacity-90 hover:opacity-100 hover:underline">Qui&eacute;nes somos</a>
          <a href="#propuesta-valor" class="opacity-90 hover:opacity-100 hover:underline">Propuesta</a>
          <a href="/catalogo.html" class="opacity-90 hover:opacity-100 hover:underline">Cat&aacute;logo</a>
          <a href="/contact.html" class="opacity-90 hover:opacity-100 hover:underline">Contacto</a>
        </nav>

        <div class="flex items-center gap-3">
          <a href="https://wa.me/5491159914197" target="_blank" rel="noopener" aria-label="WhatsApp" class="p-2 rounded-lg bg-white/10 hover:bg-white/20 transition">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M20.52 3.48A11.93 11.93 0 0012 0C5.37 0 .01 5.37.01 12c0 2.11.55 4.18 1.6 6.02L0 24l6.14-1.6A11.94 11.94 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.25-6.21-3.48-8.52zM12 22a9.94 9.94 0 01-5.06-1.39l-.36-.21-3.64.95.97-3.55-.23-.37A9.94 9.94 0 012 12C2 6.49 6.49 2 12 2s10 4.49 10 10-4.49 10-10 10zm5.49-7.18c-.3-.15-1.77-.87-2.05-.96-.28-.1-.48-.15-.68.15-.2.29-.78.96-.95 1.16-.17.19-.35.21-.65.08-.3-.15-1.26-.46-2.4-1.47-.88-.79-1.48-1.77-1.65-2.07-.17-.29-.02-.45.13-.6.13-.12.29-.32.43-.48.14-.17.19-.29.29-.49.1-.2.05-.37-.02-.52-.08-.15-.68-1.64-.93-2.25-.24-.58-.49-.5-.68-.51h-.58c-.2 0-.52.07-.8.37-.27.29-1.05 1.02-1.05 2.48s1.08 2.88 1.23 3.08c.15.2 2.13 3.26 5.16 4.57.72.31 1.28.5 1.72.65.72.23 1.37.2 1.89.12.58-.09 1.77-.72 2.02-1.41.25-.69.25-1.28.18-1.41-.07-.12-.27-.19-.57-.35z"/></svg>
          </a>
          <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram" class="p-2 rounded-lg bg-white/10 hover:bg-white/20 transition">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3h10zm-5 3a5 5 0 100 10 5 5 0 000-10zm0 2.2a2.8 2.8 0 110 5.6 2.8 2.8 0 010-5.6zM17.8 6.2a1 1 0 100 2 1 1 0 000-2z"/></svg>
          </a>
        </div>
      </div>

      <div class="mt-8 border-t border-white/10 pt-6 text-center text-xs text-slate-300">
        &copy; Ensinton&iacute;a 2025 &mdash; Todos los derechos reservados.
      </div>
    </div>
  </footer>

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Ensintonía",
    "description": "Importadora y distribuidora de electrónica y productos para el hogar. Atención mayorista y minorista desde Quilmes Oeste.",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Sarratea",
      "addressLocality": "Quilmes Oeste",
      "addressRegion": "Buenos Aires",
      "addressCountry": "AR"
    },
    "telephone": "+54 9 11 5991 4197",
    "url": "https://tusitio.com/",
    "contactPoint": [{
      "@type": "ContactPoint",
      "contactType": "customer support",
      "telephone": "+54 9 11 5991 4197",
      "areaServed": "AR"
    }]
  }
  </script>

  <!-- ANIMACIÓN THREE.JS PARA EL HERO -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const container = document.getElementById('canvas-container');
      if (!container) return;

      // 1. Configuración Básica
      const scene = new THREE.Scene();
      const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1); // Cámara 2D plana
      const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      
      renderer.setSize(container.clientWidth, container.clientHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Optimización retina
      container.appendChild(renderer.domElement);

      // 2. Definición del Shader (La "Magia" visual)
      // Versión fluid mesh: mezcla tiempo, resolución y puntero para un gradiente vivo.
      const fragmentShader = `
        uniform float u_time;
        uniform vec2 u_resolution;
        uniform vec2 u_mouse;

        #define PI 3.14159265359
        #define TWO_PI 6.28318530718

        vec3 colorA = vec3(0.1, 0.1, 0.3);
        vec3 colorB = vec3(0.8, 0.1, 0.4);

        float random(vec2 st) {
          return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);
        }

        float noise(vec2 st) {
          vec2 i = floor(st);
          vec2 f = fract(st);

          float a = random(i);
          float b = random(i + vec2(1.0, 0.0));
          float c = random(i + vec2(0.0, 1.0));
          float d = random(i + vec2(1.0, 1.0));

          vec2 u = f * f * (3.0 - 2.0 * f);
          return mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
        }

        void main() {
          vec2 st = gl_FragCoord.xy/u_resolution.xy;
          st.x *= u_resolution.x/u_resolution.y;
          
          vec2 mouse = u_mouse / u_resolution;

          float n = noise(st * 2.0 + u_time * 0.1);
          
          st += n * 0.2;

          vec3 color = mix(colorA, colorB, st.x);
          
          float d = distance(st, mouse);
          color += smoothstep(0.5, 0.0, d) * 0.5;

          gl_FragColor = vec4(color,1.0);
        }
      `;

      const vertexShader = `
        void main() {
          gl_Position = vec4( position, 1.0 );
        }
      `;

      // 3. Crear el plano que ocupa toda la pantalla
      const geometry = new THREE.PlaneGeometry(2, 2);
      const uniforms = {
        u_time: { value: 0.0 },
        u_resolution: { value: new THREE.Vector2(container.clientWidth, container.clientHeight) },
        u_mouse: { value: new THREE.Vector2(0, 0) }
      };

      const material = new THREE.ShaderMaterial({
        uniforms: uniforms,
        vertexShader: vertexShader,
        fragmentShader: fragmentShader
      });

      const mesh = new THREE.Mesh(geometry, material);
      scene.add(mesh);

      // 4. Loop de Animación
      const clock = new THREE.Clock();
      const pointer = new THREE.Vector2(0.5, 0.5);
      const pointerTarget = new THREE.Vector2(0.5, 0.5);

      function updatePointerFromEvent(event) {
        const rect = container.getBoundingClientRect();
        if (!rect.width || !rect.height) return;
        const x = (event.clientX - rect.left);
        const y = (event.clientY - rect.top);
        if (!Number.isFinite(x) || !Number.isFinite(y)) return;
        pointerTarget.set(x,y);
      }

      window.addEventListener('pointermove', updatePointerFromEvent);

      function animate() {
        requestAnimationFrame(animate);
        const elapsed = clock.getElapsedTime();
        uniforms.u_time.value = elapsed;

        // suavizado tipo “spring” para movimiento fluido
        pointer.lerp(pointerTarget, 0.06);
        uniforms.u_mouse.value.copy(pointer);

        renderer.render(scene, camera);
      }

      animate();

      // 5. Manejar Redimensionamiento de ventana (Responsive)
      window.addEventListener('resize', () => {
        const width = container.clientWidth;
        const height = container.clientHeight;
        renderer.setSize(width, height);
        uniforms.u_resolution.value.set(width, height);
      });
    });
  </script>

  <!-- Scripts funcionales del sitio (menú, cards, etc.) -->
  <script>
    // secuencia visual del hero (simple y ligera)
    (function(){
      const ids = ['hero-title','hero-sub','hero-ctas','hero-detail'];
      let delay = 60;
      ids.forEach(id => {
        const el = document.getElementById(id);
        if(el){
          el.classList.add('fade-in-up');
          setTimeout(()=> el.classList.add('show'), delay);
          delay += 160;
        }
      });

      // mobile search toggle simple
      const searchToggle = document.getElementById('mobile-search-toggle');
      const mobileSearch = document.getElementById('mobile-search');
      if(searchToggle && mobileSearch){
        searchToggle.addEventListener('click', ()=> mobileSearch.classList.toggle('hidden'));
      }

      // hamburger -> simple X animation (main.js better manages aria/focus)
      const mobileBtn = document.getElementById('mobile-menu-button');
      if(mobileBtn){
        mobileBtn.addEventListener('click', ()=> mobileBtn.classList.toggle('open'));
      }
    })();

    // Add a scroll listener to the header for a dynamic shadow
    window.addEventListener('scroll', () => {
      const header = document.getElementById('main-header');
      if (header) {
        if (window.scrollY > 50) { // Adjust scroll threshold as needed
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
      }
    });
  </script>

  <script>
    /* Insert inside your existing DOMContentLoaded (o after it) to initialize card animations.
       This code is defensive: it won't recreate observers if they exist. */
    (function initCardAnimationsModule(){
      // create observer if not present
      if (!window.cardRevealObserver) {
        try {
          window.cardRevealObserver = new IntersectionObserver((entries, obs) => {
            entries.forEach(entry => {
              const el = entry.target;
              if (entry.isIntersecting) {
                el.classList.add('in-view');
                el.classList.remove('reveal-init');
                // add small floating only for non-hovered state
                el.classList.add('float-subtle');
                // unobserve so it animates only once
                obs.unobserve(el);
              }
            });
          }, { threshold: 0.14 });
        } catch (err) {
          window.cardRevealObserver = null;
          console.warn('cardRevealObserver not available', err);
        }
      }

      // helper: attach tilt handlers to a card
      function attachTilt(card) {
        if (!card) return;
        let rect = null;
        const strength = 12; // degrees max
        function onMove(e){
          rect = rect || card.getBoundingClientRect();
          const clientX = (e.touches ? e.touches[0].clientX : e.clientX);
          const clientY = (e.touches ? e.touches[0].clientY : e.clientY);
          const px = (clientX - rect.left) / rect.width;
          const py = (clientY - rect.top) / rect.height;
          const rotY = (px - 0.5) * strength; // rotateY
          const rotX = (0.5 - py) * (strength * 0.65); // rotateX (less)
          card.style.transform = `perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg) scale(1.01)`;
        }
        function onLeave(){
          card.style.transform = '';
        }
        card.addEventListener('mousemove', onMove);
        card.addEventListener('touchmove', onMove, { passive: true });
        card.addEventListener('mouseleave', onLeave);
        card.addEventListener('touchend', onLeave);
        // mark as having tilt to avoid double attach
        card.dataset.tiltAttached = '1';
      }

      // function to initialize cards present in DOM now (and future ones if you call again)
      function observeCards(root = document) {
        const cards = Array.from(root.querySelectorAll('.card-polish, .card-modern, .value-card')); // Incluir las nuevas clases
        cards.forEach(card => {
          // ensure initial reveal state
          if (!card.classList.contains('reveal-init') && !card.classList.contains('in-view')) {
            card.classList.add('reveal-init');
          }
          // ensure shimmer element exists for card-polish (optional for other types)
          if (card.classList.contains('card-polish') && !card.querySelector('.shimmer')) {
            const sh = document.createElement('div');
            sh.className = 'shimmer';
            card.appendChild(sh);
          }
          // observe for reveal
          if (window.cardRevealObserver) window.cardRevealObserver.observe(card);
          // attach tilt if not attached and on wide screens (only for card-polish for now)
          if (card.classList.contains('card-polish') && !card.dataset.tiltAttached && window.innerWidth > 768) {
            card.classList.add('tilt');
            attachTilt(card);
          }
        });
      }

      // expose for other modules
      window.observeCards = observeCards;

      // run on DOMContentLoaded if ready, otherwise wait
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        observeCards();
      } else {
        document.addEventListener('DOMContentLoaded', () => observeCards());
      }

      // re-run observeCards when new content is inserted (optional: you can call window.observeCards() after generating cards)
      // small MutationObserver to auto-detect added cards (lightweight)
      try {
        const mo = new MutationObserver((mutations) => {
          let added = false;
          mutations.forEach(m => {
            if (m.addedNodes && m.addedNodes.length) {
              m.addedNodes.forEach(n => {
                if (n.nodeType === 1 && n.matches && (n.matches('.card-polish') || n.matches('.card-modern') || n.matches('.value-card'))) added = true;
                if (n.nodeType === 1) {
                  // also check descendants
                  if (n.querySelector && (n.querySelector('.card-polish') || n.querySelector('.card-modern') || n.querySelector('.value-card'))) added = true;
                }
              });
            }
          });
          if (added) observeCards();
        });
        mo.observe(document.body, { childList: true, subtree: true });
      } catch (e) {
        // noop if MutationObserver not allowed
      }
    })();
  </script>

  <div id="mobile-nav" aria-hidden="true">
    <button class="mn-overlay" data-close="1" aria-label="Cerrar menú"></button>
    <nav class="mn-panel" role="dialog" aria-modal="true" aria-label="Menú móvil">
      <div class="flex items-center justify-between mb-1">
        <span class="font-semibold text-lg">Menú</span>
        <button id="mobile-menu-close" class="p-2 rounded-md hover:bg-gray-100" aria-label="Cerrar">
          <svg width="20" height="20" viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M6 18L18 6"/>
          </svg>
        </button>
      </div>

      <div>
        <h6>Navegacion</h6>
        <a href="#quienes-somos" data-link>Quienes somos</a>
        <a href="#propuesta-valor" data-link>Propuesta</a>
        <a href="/catalogo.html" data-link>Catalogo</a>
        <a href="/contact.html" data-link>Contacto</a>
        <a href="https://webensintonia.com/frontend/admin.html" data-link>Panel Admin</a>
      </div>

      <div>
        <h6>Categorias</h6>
        <ul id="mobile-cats" class="space-y-1"></ul>
      </div>

      <div class="mt-2">
        <h6>Accion</h6>
        <a href="https://wa.me/5491159914197" target="_blank" rel="noopener">WhatsApp</a>
      </div>
    </nav>
  </div>

  <script>
    (function mobileMenu(){
      const btn = document.getElementById('mobile-menu-button');
      const panelWrap = document.getElementById('mobile-nav');
      const closeBtn = document.getElementById('mobile-menu-close');
      let lastFocused = null;

      if(!btn || !panelWrap) return;

      // syncCategories eliminado: ahora las categorías se inyectan en vivo desde Firestore

      function trapFocus(e){
        if(e.key !== 'Tab') return;
        const focusables = panelWrap.querySelectorAll('a,button,[tabindex]:not([tabindex="-1"])');
        if(!focusables.length) return;
        const first = focusables[0];
        const last = focusables[focusables.length-1];
        if(e.shiftKey && document.activeElement === first){
          e.preventDefault(); last.focus();
        } else if(!e.shiftKey && document.activeElement === last){
          e.preventDefault(); first.focus();
        }
      }

      function open(){
        lastFocused = document.activeElement;
        btn.classList.add('open');
        btn.setAttribute('aria-expanded','true');
        panelWrap.dataset.state = 'opening';
        panelWrap.removeAttribute('aria-hidden');
        requestAnimationFrame(()=> {
          panelWrap.dataset.state = 'open';
          const firstLink = panelWrap.querySelector('a,button');
          if(firstLink) firstLink.focus();
        });
        document.addEventListener('keydown', escHandler);
        document.addEventListener('keydown', trapFocus, true);
        disableScroll();
      }

      function close(){
        btn.classList.remove('open');
        btn.setAttribute('aria-expanded','false');
        panelWrap.dataset.state = 'closing';
        panelWrap.setAttribute('aria-hidden','true');
        setTimeout(()=>{
          if(panelWrap.dataset.state === 'closing'){
            delete panelWrap.dataset.state;
            panelWrap.style.display = '';
          }
        }, 380);
        document.removeEventListener('keydown', escHandler);
        document.removeEventListener('keydown', trapFocus, true);
        enableScroll();
        if(lastFocused) lastFocused.focus();
      }

      function escHandler(e){
        if(e.key === 'Escape') close();
      }

      function toggle(){
        const openNow = panelWrap.dataset.state === 'open' || panelWrap.dataset.state === 'opening';
        openNow ? close() : open();
      }

      btn.addEventListener('click', toggle);
      closeBtn && closeBtn.addEventListener('click', close);
      panelWrap.addEventListener('click', e=>{
        if(e.target.dataset.close) close();
        if(e.target.matches('[data-link]')) close();
      });

      window.addEventListener('resize', ()=>{
        if(window.innerWidth >= 768){
          if(panelWrap.dataset.state === 'open') close();
        }
      });

      let scrollY = 0;
      function disableScroll(){
        scrollY = window.scrollY;
        document.body.style.position='fixed';
        document.body.style.top = `-${scrollY}px`;
        document.body.style.left='0'; document.body.style.right='0';
        document.body.style.width='100%';
      }
      function enableScroll(){
        document.body.style.position='';
        document.body.style.top='';
        document.body.style.left=''; document.body.style.right='';
        document.body.style.width='';
        window.scrollTo(0, scrollY);
      }
    })();
  </script>

  <!-- Carga dinámica de categorías (Firestore) -->
  <script type="module">
    console.log('BUILD ID:', '2025-08-31_15:40');

    import { API_BASE } from './config.js';

    console.log('[CATS] init block (home)');

    const appId = typeof window.__app_id !== 'undefined' ? window.__app_id : 'default-app-id';

    const $home   = document.getElementById('categories-list');   // chips en portada
    const $mobile = document.getElementById('mobile-cats');       // menú hamburguesa
    const $select = document.getElementById('category-jump');     // "Ir directo"
    const $clear  = document.getElementById('category-jump-clear');

    // REEMPLAZO slugify previo por la versión solicitada
    function slugify(s=''){
      return String(s)
        .normalize('NFD').replace(/[\u0300-\u036f]/g,'')   // quitar tildes
        .toLowerCase().trim()
        .replace(/[^\w\s-]/g,'')                          // quitar símbolos raros
        .replace(/\s+/g,'-')                              // espacios -> guion
        .replace(/-+/g,'-');                              // colapsar guiones
    }

    function render(categories){
      console.log('[CATS] render count:', categories.length);
      if ($home)   $home.innerHTML = '';
      if ($mobile) $mobile.innerHTML = '';
      if ($select) $select.innerHTML = '<option value="">Selecciona una categoria</option>';

      if (!categories.length){
        if ($home) $home.innerHTML = '<li class="px-3 py-2 rounded-full category-tag opacity-70">Sin categorias</li>';
        if ($clear) $clear.hidden = true;
        return;
      }

      const fragHome = document.createDocumentFragment();
      const fragMob  = document.createDocumentFragment();

      categories.forEach(c=>{
        const name = c.name || c.nombre || 'Categoría';
        const slug = c.slug ? String(c.slug) : slugify(name);
        const icon = c.icon || c.iconUrl;

        if ($home){
          const li = document.createElement('li');
          li.className = 'px-3 py-2 rounded-full category-tag';
          li.innerHTML = `<a href="catalogo.html?cat=${encodeURIComponent(name)}" class="flex items-center gap-1" data-cat="${slug}">
            ${icon ? `<img src="${icon}" class="w-4 h-4 object-contain" alt="">` : ''}
            <span>${name}</span>
          </a>`;
          fragHome.appendChild(li);
        }

        if ($mobile){
          const liM = document.createElement('li');
          liM.innerHTML = `<a data-cat="${slug}" href="catalogo.html?cat=${encodeURIComponent(name)}"
              class="flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-100 text-sm">
              ${icon ? `<img src="${icon}" class="w-4 h-4 object-contain" alt="">` : ''}
              <span>${name}</span>
          </a>`;
          fragMob.appendChild(liM);
        }

        if ($select){
          const opt = document.createElement('option');
          opt.value = name;
          opt.textContent = name;
          $select.appendChild(opt);
        }
      });

      if ($home)   $home.appendChild(fragHome);
      if ($mobile) $mobile.appendChild(fragMob);

      if ($clear){
        $clear.hidden = !$select || !$select.value;
      }
    }

    // Delegación click móvil para cerrar y navegar
    (function wireMobileNav(){
      if (!$mobile) return;
      $mobile.addEventListener('click', e=>{
        const a = e.target.closest('a[data-cat]');
        if(!a) return;
        console.log('[CATS] mobile nav ->', a.dataset.cat);
        // cerrar usando overlay existente para mantener animaciones
        const overlay = document.querySelector('#mobile-nav .mn-overlay');
        if (overlay) overlay.click();
        // navegación natural
      });
    })();

    // Select jump + clear
    if ($select){
      $select.addEventListener('change', ()=>{
        if ($select.value){
          if ($clear) $clear.hidden = false;
          window.location.href = `catalogo.html?cat=${encodeURIComponent($select.value)}`;
        } else {
          if ($clear) $clear.hidden = true;
        }
      });
    }
    if ($clear){
      $clear.addEventListener('click', ()=>{
        if ($select){
          $select.value = '';
          $clear.hidden = true;
        }
      });
    }

    async function loadCategories(){
      try{
        const resp = await fetch(`${API_BASE}/categorias`);
        if(!resp.ok) throw new Error(`HTTP ${resp.status}`);
        const rows = await resp.json();
        render(Array.isArray(rows) ? rows : []);
        fixCategoryLinks();
      }catch(err){
        console.error('[CATS] error cargando categorias', err);
        render([]);
      }
    }

    // --- fuerza href correcto en todos los links de categorías (home + hamburguesa) ---
    function fixCategoryLinks(){
      const roots = [
        document.getElementById('categories-list'),
        document.getElementById('mobile-cats')
      ];
      roots.forEach(root=>{
        if(!root) return;
        root.querySelectorAll('a').forEach(a=>{
          const catName = (a.querySelector('span')?.textContent || a.textContent || '').trim();
          if(!catName) return;
          const want = `catalogo.html?cat=${encodeURIComponent(catName)}`;
          a.setAttribute('href', want);
          if(!a.__catPatched){
            a.addEventListener('click', e=>{
              const current = a.getAttribute('href') || '';
              if(!current.includes('?cat=')){
                e.preventDefault();
                location.href = want;
              }
            }, { capture:true });
            a.__catPatched = 1;
          }
        });
      });
    }

    // Cargar categorías ahora (sin Firebase)
    loadCategories();

  </script>
  <script>
    function hideInitialLoader() {
      const loader = document.querySelector('.loader');
      if (!loader) return;
      loader.style.opacity = '0';
      setTimeout(() => {
        loader.style.display = 'none';
      }, 500);
      window.removeEventListener('load', hideInitialLoader);
      document.removeEventListener('DOMContentLoaded', hideInitialLoader);
    }
    document.addEventListener('DOMContentLoaded', hideInitialLoader);
    window.addEventListener('load', hideInitialLoader);
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('.section');

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('section-fade-in');
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });

      sections.forEach(section => {
        observer.observe(section);
      });

      const scrollFadeInElements = document.querySelectorAll('.scroll-fade-in');

      const scrollObserver = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            scrollObserver.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.1
      });

      scrollFadeInElements.forEach(element => {
        scrollObserver.observe(element);
      });
    });
  </script>
</body>
</html>
